# TheWallflower Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# Application Settings
# =============================================================================

# Port to expose the web interface (default: 8080)
PORT=8080

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# Number of uvicorn workers (default: 1, increase for high load)
WORKERS=1

# Frigate base URL (default: http://frigate:5000)
FRIGATE_URL=http://frigate:5000

# =============================================================================
# WhisperLive Settings
# =============================================================================

# Whisper model to use (default: base.en)
# Options: tiny, tiny.en, base, base.en, small, small.en, medium, medium.en, large
WHISPER_MODEL=base.en

# External WhisperLive port (default: 9090)
WHISPER_PORT=9090

# =============================================================================
# go2rtc / WebRTC Settings
# =============================================================================
GO2RTC_PORT=8954
GO2RTC_RTSP_PORT=8955
GO2RTC_WEBRTC_PORT=8956

# WebRTC Reachability (Required for Bridge Mode / NAT)
# The IP address of your host machine (e.g., TrueNAS IP: 192.168.1.50)
# Use the IP address to ensure devices on your LAN can connect directly via UDP.
# DNS names can be used if they resolve correctly on the LAN, but IPs are safer.
WEBRTC_ADVERTISED_IP=

# The external port mapped to 8956 (leave blank if unchanged)
WEBRTC_ADVERTISED_PORT=8956

# =============================================================================
# Advanced Settings (usually not needed)
# =============================================================================

# Database URL (default: sqlite:///data/thewallflower.db)
# DATABASE_URL=sqlite:///data/thewallflower.db

# JPEG quality for MJPEG streaming (1-100, default: 80)
# JPEG_QUALITY=80

# Snapshot interval in seconds (default: 5.0)
# SNAPSHOT_INTERVAL=5.0

# Maximum transcript segments to keep in memory (default: 100)
# MAX_TRANSCRIPT_SEGMENTS=100

# RTSP connection retry count (default: 5)
# RTSP_RETRY_COUNT=5

# RTSP connection retry delay in seconds (default: 2.0)
# RTSP_RETRY_DELAY=2.0

# WhisperLive reconnection delay in seconds (default: 5.0)
# WHISPER_RETRY_DELAY=5.0
